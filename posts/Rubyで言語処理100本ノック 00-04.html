<!DOCTYPE html><html lang="ja"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Rubyで言語処理100本ノック 00-04 | (wat-aro)</title><meta name="title" content="Rubyで言語処理100本ノック 00-04 | (wat-aro)"/><meta name="description" content="&lt;p&gt;&lt;iframe src=&quot;//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.cl.ecei.tohoku.ac.jp%2Fnlp100%2F&quot; title=&quot;言語処理100本ノック 2015&quot; class=&quot;embed-card embed-webcard&quot; sc"/><meta property="og:locale" content="ja_jp"/><meta property="og:type" content="article"/><meta property="og:site_name" content="(wat-aro)"/><meta property="og:title" content="Rubyで言語処理100本ノック 00-04 | (wat-aro)"/><meta property="og:image" content="https://wat-aro.dev/og-images/Rubyで言語処理100本ノック 00-04.png"/><meta property="og:url" content="https://wat-aro.dev/posts/Ruby%E3%81%A7%E8%A8%80%E8%AA%9E%E5%87%A6%E7%90%86100%E6%9C%AC%E3%83%8E%E3%83%83%E3%82%AF%2000-04"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@wat_aro"/><meta name="twitter:creator" content="@wat_aro"/><meta name="twitter:title" content="Rubyで言語処理100本ノック 00-04 | (wat-aro)"/><meta name="twitter:description" content="&lt;p&gt;&lt;iframe src=&quot;//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.cl.ecei.tohoku.ac.jp%2Fnlp100%2F&quot; title=&quot;言語処理100本ノック 2015&quot; class=&quot;embed-card embed-webcard&quot; sc"/><meta name="twitter:image" content="https://wat-aro.dev/og-images/Rubyで言語処理100本ノック 00-04.png"/><meta name="next-head-count" content="17"/><link rel="icon" href="/images/favicon.ico"/><link rel="preload" href="/_next/static/css/cef7709dba1aabcc.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cef7709dba1aabcc.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-e7be5a2ce3007f17.js" defer=""></script><script src="/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/_next/static/chunks/main-fc7d2f0e2098927e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-847cc7a6659a518e.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-5a221d7c4dbc914e.js" defer=""></script><script src="/_next/static/HLzeiosRgVps8tLClOYaI/_buildManifest.js" defer=""></script><script src="/_next/static/HLzeiosRgVps8tLClOYaI/_ssgManifest.js" defer=""></script><script src="/_next/static/HLzeiosRgVps8tLClOYaI/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MW6D56L" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="py-0 md:px-8 min-h-screen flex flex-col items-center"><div class="top-0 bg-white w-full h-16 flex flex-row justify-between items-center px-4 border-b-2"><a href="/"><div class="flex items-center font-midium text-3xl h-full font-bold gap-4"><img class="rounded-full" src="/images/profile.jpg" width="48" height="48" alt="profile image"/>(wat-aro)<!-- --></div></a><ul class="flex gap-3 h-full"><li class="h-full flex flex-col justify-end border-black pb-3 border-b-4"><a href="/posts">Blog</a></li><li class="h-full flex flex-col justify-end border-black pb-4"><a href="/slides">Slide</a></li><li class="h-full flex flex-col justify-end border-black pb-4"><a href="/about">About</a></li></ul></div><div class="flex md:justify-center justify-between w-full flex-grow"><div class="flex flex-col sm:max-w-sm md:max-w-4xl w-full py-4 px-4"><article class="flex max-w-4xl w-full"><div class="py-4 w-full"><div class="mr-2 text-xs font-bold">2016/03/17</div><h1 class="font-bold text-3xl text-black">Rubyで言語処理100本ノック 00-04</h1><nav class="flex mt-2 mb-2 items-start text-gray-500 text-xs"><div class="flex flex-wrap max-w-full overflow-x-auto gap-2"><a href="/tags/ruby"><p class="mr-1 rounded-full px-2 py-1 border leading-none">ruby</p></a></div></nav><div class="znc"><p><iframe src="//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.cl.ecei.tohoku.ac.jp%2Fnlp100%2F" title="言語処理100本ノック 2015" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://www.cl.ecei.tohoku.ac.jp/nlp100/">www.cl.ecei.tohoku.ac.jp</a></cite></p>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>の練習のために始めました．<br>
4章からは難しそうなので3章まで頑張りたい．でも飽きたらやめるかも．<br>
コードを書く基礎が足りない気がするのでもっと書かないと．<br>
始めるにあって，とりあえず<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.2.3のStringクラスは一通り目を通してきました．<br>
全体的に末尾<a class="keyword" href="http://d.hatena.ne.jp/keyword/%BA%C6%B5%A2">再帰</a>でなんとかしようとしてます．<br>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>は末尾<a class="keyword" href="http://d.hatena.ne.jp/keyword/%BA%C6%B5%A2">再帰</a>の最適化がないって聞いたんですがどうなんですかね？
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>っぽい書き方がわからないので，Rubocop先生に出来るだけ怒られないように書いてます．</p>
<h2 id="00">00</h2>
<pre class="code lang-ruby" data-lang="ruby" data-unlink=""><code class="code-highlight"><span class="code-line"><span class="synComment"># 00 文字列を受け取り，末尾から順に表示する</span>
</span><span class="code-line"><span class="synPreProc">class</span> <span class="synType">String</span>
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">my_reverse</span>
</span><span class="code-line">    size = length
</span><span class="code-line">    result = <span class="synSpecial">''</span>
</span><span class="code-line">    <span class="synStatement">while</span> size > <span class="synConstant">0</span>
</span><span class="code-line">      size -= <span class="synConstant">1</span>
</span><span class="code-line">      result &#x3C;&#x3C; <span class="synConstant">self</span>[size]
</span><span class="code-line">    <span class="synStatement">end</span>
</span><span class="code-line">    result
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synComment"># Like tail call</span>
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">iter_reverse</span>
</span><span class="code-line">    iter(<span class="synSpecial">''</span>, length)
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synStatement">private</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">iter</span>(str, str_len)
</span><span class="code-line">    <span class="synStatement">if</span> str_len > <span class="synConstant">0</span>
</span><span class="code-line">      iter(str + <span class="synConstant">self</span>[str_len - <span class="synConstant">1</span>], str_len - <span class="synConstant">1</span>)
</span><span class="code-line">    <span class="synStatement">else</span>
</span><span class="code-line">      str
</span><span class="code-line">    <span class="synStatement">end</span>
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line"><span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line"><span class="synSpecial">'</span><span class="synConstant">reverse</span><span class="synSpecial">'</span>.my_reverse                <span class="synComment"># => "esrever"</span>
</span><span class="code-line"><span class="synSpecial">'</span><span class="synConstant">a</span><span class="synSpecial">'</span>.my_reverse                      <span class="synComment"># => "a"</span>
</span><span class="code-line"><span class="synSpecial">''</span>.my_reverse                       <span class="synComment"># => ""</span>
</span><span class="code-line">
</span><span class="code-line"><span class="synSpecial">'</span><span class="synConstant">reverse</span><span class="synSpecial">'</span>.iter_reverse          <span class="synComment"># => "esrever"</span>
</span><span class="code-line"><span class="synSpecial">'</span><span class="synConstant">a</span><span class="synSpecial">'</span>.iter_reverse                <span class="synComment"># => "a"</span>
</span><span class="code-line"><span class="synSpecial">''</span>.iter_reverse                 <span class="synComment"># => ""</span>
</span></code></pre>
<h2 id="01">01</h2>
<pre class="code lang-ruby" data-lang="ruby" data-unlink=""><code class="code-highlight"><span class="code-line"><span class="synComment"># 01 文字列の奇数番目だけ取り出した新しい文字列を返す</span>
</span><span class="code-line"><span class="synPreProc">class</span> <span class="synType">String</span>
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">str_odd</span>
</span><span class="code-line">    iter(<span class="synConstant">0</span>, <span class="synSpecial">''</span>)
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synStatement">private</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">iter</span>(index, str)
</span><span class="code-line">    <span class="synStatement">if</span> index &#x3C; length
</span><span class="code-line">      <span class="synStatement">if</span> index.even?
</span><span class="code-line">        iter(index + <span class="synConstant">1</span>, str + <span class="synConstant">self</span>[index])
</span><span class="code-line">      <span class="synStatement">else</span>
</span><span class="code-line">        iter(index + <span class="synConstant">1</span>, str)
</span><span class="code-line">      <span class="synStatement">end</span>
</span><span class="code-line">    <span class="synStatement">else</span>
</span><span class="code-line">      str
</span><span class="code-line">    <span class="synStatement">end</span>
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line"><span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line"><span class="synSpecial">'</span><span class="synConstant">hello</span><span class="synSpecial">'</span>.str_odd                <span class="synComment"># => "hlo"</span>
</span><span class="code-line"><span class="synSpecial">'</span><span class="synConstant">abcde</span><span class="synSpecial">'</span>.str_odd                <span class="synComment"># => "ace"</span>
</span><span class="code-line"><span class="synSpecial">'</span><span class="synConstant">パタトクカシーー</span><span class="synSpecial">'</span>.str_odd     <span class="synComment"># => "パトカー"</span>
</span></code></pre>
<h2 id="02">02</h2>
<pre class="code lang-ruby" data-lang="ruby" data-unlink=""><code class="code-highlight"><span class="code-line"><span class="synComment"># 02 ２つの文字列を受け取り，先頭から交互に混ぜた文字列をつくる</span>
</span><span class="code-line"><span class="synPreProc">def</span> <span class="synIdentifier">comb_str</span>(str1, str2)
</span><span class="code-line">  iter(str1, str2, <span class="synSpecial">''</span>)
</span><span class="code-line"><span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line"><span class="synPreProc">def</span> <span class="synIdentifier">iter</span>(str1, str2, result)
</span><span class="code-line">  <span class="synStatement">if</span> str1.empty?
</span><span class="code-line">    result + str2
</span><span class="code-line">  <span class="synStatement">elsif</span> str2.empty?
</span><span class="code-line">    result + str1
</span><span class="code-line">  <span class="synStatement">else</span>
</span><span class="code-line">    iter(str1[<span class="synConstant">1</span>..<span class="synConstant">-1</span>], str2[<span class="synConstant">1</span>..<span class="synConstant">-1</span>], result + str1[<span class="synConstant">0</span>] + str2[<span class="synConstant">0</span>])
</span><span class="code-line">  <span class="synStatement">end</span>
</span><span class="code-line"><span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line">comb_str(<span class="synSpecial">'</span><span class="synConstant">パトカー</span><span class="synSpecial">'</span>, <span class="synSpecial">'</span><span class="synConstant">タクシー</span><span class="synSpecial">'</span>) <span class="synComment"># => "パタトクカシーー"</span>
</span></code></pre>
<h2 id="03">03</h2>
<pre class="code lang-ruby" data-lang="ruby" data-unlink=""><code class="code-highlight"><span class="code-line"><span class="synComment"># 03 文字列から数字のリストをつくる</span>
</span><span class="code-line"><span class="synPreProc">class</span> <span class="synType">String</span>
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">pi</span>
</span><span class="code-line">    split.map(&#x26;<span class="synConstant">:length</span>)
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line"><span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line"><span class="synSpecial">"</span><span class="synConstant">Now I need a drink, alcoholic of course, after the heavy lectures involving quantum mechanics.</span><span class="synSpecial">"</span>.pi
</span><span class="code-line"> <span class="synComment"># => [3, 1, 4, 1, 6, 9, 2, 7, 5, 3, 5, 8, 9, 7, 10]</span>
</span></code></pre>
<h2 id="04">04</h2>
<pre class="code lang-ruby" data-lang="ruby" data-unlink=""><code class="code-highlight"><span class="code-line"><span class="synComment"># 04 文字列を受け取り，単語に分解し，1, 5, 6, 7, 8, 9, 15, 16, 19番目の単語は先頭の1文字</span>
</span><span class="code-line"><span class="synComment"># それ以外の単語は先頭に2文字を取り出し，取り出した文字列から単語の位置（先頭から何番目の単語か）への連想配列を返す</span>
</span><span class="code-line"><span class="synPreProc">class</span> <span class="synType">String</span>
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">element</span>
</span><span class="code-line">    recur(split, <span class="synConstant">1</span>, [])
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synStatement">private</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">helper</span>(str, i)
</span><span class="code-line">    <span class="synStatement">case</span> i
</span><span class="code-line">    <span class="synStatement">when</span> <span class="synConstant">1</span>, <span class="synConstant">5</span>, <span class="synConstant">6</span>, <span class="synConstant">7</span>, <span class="synConstant">8</span>, <span class="synConstant">9</span>, <span class="synConstant">15</span>, <span class="synConstant">16</span>, <span class="synConstant">19</span>
</span><span class="code-line">      [str[<span class="synConstant">0</span>], i]
</span><span class="code-line">    <span class="synStatement">else</span>
</span><span class="code-line">      [str[<span class="synConstant">0</span>, <span class="synConstant">2</span>], i]
</span><span class="code-line">    <span class="synStatement">end</span>
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="synPreProc">def</span> <span class="synIdentifier">recur</span>(arr, index, result)
</span><span class="code-line">    <span class="synStatement">if</span> arr.empty?
</span><span class="code-line">      result
</span><span class="code-line">    <span class="synStatement">else</span>
</span><span class="code-line">      recur(arr.drop(<span class="synConstant">1</span>), index + <span class="synConstant">1</span>, result.push(helper(arr[<span class="synConstant">0</span>], index)))
</span><span class="code-line">    <span class="synStatement">end</span>
</span><span class="code-line">  <span class="synPreProc">end</span>
</span><span class="code-line"><span class="synPreProc">end</span>
</span><span class="code-line">
</span><span class="code-line"><span class="synSpecial">"</span><span class="synConstant">Hi He Lied Because Boron Could Not Oxidize Fluorine. New Nations Might Also Sign Peace Security Clause. Arthur King Can.</span><span class="synSpecial">"</span>.element
</span><span class="code-line"><span class="synComment"># => [["H", 1], ["He", 2], ["Li", 3], ["Be", 4], ["B", 5], ["C", 6], ["N", 7], ["O", 8], ["F", 9], ["Ne", 10], ["Na", 11], ["Mi", 12], ["Al", 13], ["Si", 14], ["P", 15], ["S", 16], ["Cl", 17], ["Ar", 18], ["K", 19], ["Ca", 20]]</span>
</span></code></pre>
<p>Stringクラスを一読するのに時間がかかったので今日はこれだけ．</p></div></div></article></div></div><div class="flex md:justify-center w-full"><div class="flex flex-col md:max-w-4xl w-full"><hr/><div class="flex justify-center pt-4 pb-8">© 2022 wat-aro</div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Rubyで言語処理100本ノック 00-04","published":"2016/03/17","tags":["ruby"],"content":"\n\u003cp\u003e\u003ciframe src=\"//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.cl.ecei.tohoku.ac.jp%2Fnlp100%2F\" title=\"言語処理100本ノック 2015\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"\u003e\u003c/iframe\u003e\u003ccite class=\"hatena-citation\"\u003e\u003ca href=\"http://www.cl.ecei.tohoku.ac.jp/nlp100/\"\u003ewww.cl.ecei.tohoku.ac.jp\u003c/a\u003e\u003c/cite\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003eの練習のために始めました．\u003cbr/\u003e\n4章からは難しそうなので3章まで頑張りたい．でも飽きたらやめるかも．\u003cbr/\u003e\nコードを書く基礎が足りない気がするのでもっと書かないと．\u003cbr/\u003e\n始めるにあって，とりあえず\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003e 2.2.3のStringクラスは一通り目を通してきました．\u003cbr/\u003e\n全体的に末尾\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BA%C6%B5%A2\"\u003e再帰\u003c/a\u003eでなんとかしようとしてます．\u003cbr/\u003e\n\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003eは末尾\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BA%C6%B5%A2\"\u003e再帰\u003c/a\u003eの最適化がないって聞いたんですがどうなんですかね？\n\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003eっぽい書き方がわからないので，Rubocop先生に出来るだけ怒られないように書いてます．\u003c/p\u003e\n\n\u003ch2\u003e00\u003c/h2\u003e\n\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink\u003e\u003cspan class=\"synComment\"\u003e# 00 文字列を受け取り，末尾から順に表示する\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003emy_reverse\u003c/span\u003e\n    size = length\n    result = \u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e\n    \u003cspan class=\"synStatement\"\u003ewhile\u003c/span\u003e size \u0026gt; \u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e\n      size -= \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e\n      result \u0026lt;\u0026lt; \u003cspan class=\"synConstant\"\u003eself\u003c/span\u003e[size]\n    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n    result\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"synComment\"\u003e# Like tail call\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter_reverse\u003c/span\u003e\n    iter(\u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e, length)\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"synStatement\"\u003eprivate\u003c/span\u003e\n\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter\u003c/span\u003e(str, str_len)\n    \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e str_len \u0026gt; \u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e\n      iter(str + \u003cspan class=\"synConstant\"\u003eself\u003c/span\u003e[str_len - \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e], str_len - \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e)\n    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n      str\n    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ereverse\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.my_reverse                \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;esrever\u0026quot;\u003c/span\u003e\n\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ea\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.my_reverse                      \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;a\u0026quot;\u003c/span\u003e\n\u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e.my_reverse                       \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ereverse\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.iter_reverse          \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;esrever\u0026quot;\u003c/span\u003e\n\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ea\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.iter_reverse                \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;a\u0026quot;\u003c/span\u003e\n\u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e.iter_reverse                 \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;\u0026quot;\u003c/span\u003e\n\u003c/pre\u003e\n\n\n\u003ch2\u003e01\u003c/h2\u003e\n\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink\u003e\u003cspan class=\"synComment\"\u003e# 01 文字列の奇数番目だけ取り出した新しい文字列を返す\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003estr_odd\u003c/span\u003e\n    iter(\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e, \u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e)\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"synStatement\"\u003eprivate\u003c/span\u003e\n\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter\u003c/span\u003e(index, str)\n    \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e index \u0026lt; length\n      \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e index.even?\n        iter(index + \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, str + \u003cspan class=\"synConstant\"\u003eself\u003c/span\u003e[index])\n      \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n        iter(index + \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, str)\n      \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n      str\n    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ehello\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.str_odd                \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;hlo\u0026quot;\u003c/span\u003e\n\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eabcde\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.str_odd                \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;ace\u0026quot;\u003c/span\u003e\n\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eパタトクカシーー\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.str_odd     \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;パトカー\u0026quot;\u003c/span\u003e\n\u003c/pre\u003e\n\n\n\u003ch2\u003e02\u003c/h2\u003e\n\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink\u003e\u003cspan class=\"synComment\"\u003e# 02 ２つの文字列を受け取り，先頭から交互に混ぜた文字列をつくる\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003ecomb_str\u003c/span\u003e(str1, str2)\n  iter(str1, str2, \u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e)\n\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter\u003c/span\u003e(str1, str2, result)\n  \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e str1.empty?\n    result + str2\n  \u003cspan class=\"synStatement\"\u003eelsif\u003c/span\u003e str2.empty?\n    result + str1\n  \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n    iter(str1[\u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e..\u003cspan class=\"synConstant\"\u003e-1\u003c/span\u003e], str2[\u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e..\u003cspan class=\"synConstant\"\u003e-1\u003c/span\u003e], result + str1[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e] + str2[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e])\n  \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\ncomb_str(\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eパトカー\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e, \u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eタクシー\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e) \u003cspan class=\"synComment\"\u003e# =\u0026gt; \u0026quot;パタトクカシーー\u0026quot;\u003c/span\u003e\n\u003c/pre\u003e\n\n\n\u003ch2\u003e03\u003c/h2\u003e\n\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink\u003e\u003cspan class=\"synComment\"\u003e# 03 文字列から数字のリストをつくる\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003epi\u003c/span\u003e\n    split.map(\u0026amp;\u003cspan class=\"synConstant\"\u003e:length\u003c/span\u003e)\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"synSpecial\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eNow I need a drink, alcoholic of course, after the heavy lectures involving quantum mechanics.\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e\u0026quot;\u003c/span\u003e.pi\n \u003cspan class=\"synComment\"\u003e# =\u0026gt; [3, 1, 4, 1, 6, 9, 2, 7, 5, 3, 5, 8, 9, 7, 10]\u003c/span\u003e\n\u003c/pre\u003e\n\n\n\u003ch2\u003e04\u003c/h2\u003e\n\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink\u003e\u003cspan class=\"synComment\"\u003e# 04 文字列を受け取り，単語に分解し，1, 5, 6, 7, 8, 9, 15, 16, 19番目の単語は先頭の1文字\u003c/span\u003e\n\u003cspan class=\"synComment\"\u003e# それ以外の単語は先頭に2文字を取り出し，取り出した文字列から単語の位置（先頭から何番目の単語か）への連想配列を返す\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eelement\u003c/span\u003e\n    recur(split, \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, [])\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"synStatement\"\u003eprivate\u003c/span\u003e\n\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003ehelper\u003c/span\u003e(str, i)\n    \u003cspan class=\"synStatement\"\u003ecase\u003c/span\u003e i\n    \u003cspan class=\"synStatement\"\u003ewhen\u003c/span\u003e \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e5\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e6\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e7\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e8\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e9\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e15\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e16\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e19\u003c/span\u003e\n      [str[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e], i]\n    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n      [str[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e2\u003c/span\u003e], i]\n    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003erecur\u003c/span\u003e(arr, index, result)\n    \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e arr.empty?\n      result\n    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n      recur(arr.drop(\u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e), index + \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, result.push(helper(arr[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e], index)))\n    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"synSpecial\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eHi He Lied Because Boron Could Not Oxidize Fluorine. New Nations Might Also Sign Peace Security Clause. Arthur King Can.\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e\u0026quot;\u003c/span\u003e.element\n\u003cspan class=\"synComment\"\u003e# =\u0026gt; [[\u0026quot;H\u0026quot;, 1], [\u0026quot;He\u0026quot;, 2], [\u0026quot;Li\u0026quot;, 3], [\u0026quot;Be\u0026quot;, 4], [\u0026quot;B\u0026quot;, 5], [\u0026quot;C\u0026quot;, 6], [\u0026quot;N\u0026quot;, 7], [\u0026quot;O\u0026quot;, 8], [\u0026quot;F\u0026quot;, 9], [\u0026quot;Ne\u0026quot;, 10], [\u0026quot;Na\u0026quot;, 11], [\u0026quot;Mi\u0026quot;, 12], [\u0026quot;Al\u0026quot;, 13], [\u0026quot;Si\u0026quot;, 14], [\u0026quot;P\u0026quot;, 15], [\u0026quot;S\u0026quot;, 16], [\u0026quot;Cl\u0026quot;, 17], [\u0026quot;Ar\u0026quot;, 18], [\u0026quot;K\u0026quot;, 19], [\u0026quot;Ca\u0026quot;, 20]]\u003c/span\u003e\n\u003c/pre\u003e\n\n\n\u003cp\u003eStringクラスを一読するのに時間がかかったので今日はこれだけ．\u003c/p\u003e\n\n","slug":"Rubyで言語処理100本ノック 00-04"},"content":"\u003cp\u003e\u003ciframe src=\"//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.cl.ecei.tohoku.ac.jp%2Fnlp100%2F\" title=\"言語処理100本ノック 2015\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"\u003e\u003c/iframe\u003e\u003ccite class=\"hatena-citation\"\u003e\u003ca href=\"http://www.cl.ecei.tohoku.ac.jp/nlp100/\"\u003ewww.cl.ecei.tohoku.ac.jp\u003c/a\u003e\u003c/cite\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003eの練習のために始めました．\u003cbr\u003e\n4章からは難しそうなので3章まで頑張りたい．でも飽きたらやめるかも．\u003cbr\u003e\nコードを書く基礎が足りない気がするのでもっと書かないと．\u003cbr\u003e\n始めるにあって，とりあえず\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003e 2.2.3のStringクラスは一通り目を通してきました．\u003cbr\u003e\n全体的に末尾\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BA%C6%B5%A2\"\u003e再帰\u003c/a\u003eでなんとかしようとしてます．\u003cbr\u003e\n\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003eは末尾\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/%BA%C6%B5%A2\"\u003e再帰\u003c/a\u003eの最適化がないって聞いたんですがどうなんですかね？\n\u003ca class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby\"\u003eRuby\u003c/a\u003eっぽい書き方がわからないので，Rubocop先生に出来るだけ怒られないように書いてます．\u003c/p\u003e\n\u003ch2 id=\"00\"\u003e00\u003c/h2\u003e\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink=\"\"\u003e\u003ccode class=\"code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synComment\"\u003e# 00 文字列を受け取り，末尾から順に表示する\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003emy_reverse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    size = length\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    result = \u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003ewhile\u003c/span\u003e size \u003e \u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      size -= \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      result \u0026#x3C;\u0026#x3C; \u003cspan class=\"synConstant\"\u003eself\u003c/span\u003e[size]\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    result\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synComment\"\u003e# Like tail call\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter_reverse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    iter(\u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e, length)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synStatement\"\u003eprivate\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter\u003c/span\u003e(str, str_len)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e str_len \u003e \u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      iter(str + \u003cspan class=\"synConstant\"\u003eself\u003c/span\u003e[str_len - \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e], str_len - \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      str\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ereverse\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.my_reverse                \u003cspan class=\"synComment\"\u003e# =\u003e \"esrever\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ea\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.my_reverse                      \u003cspan class=\"synComment\"\u003e# =\u003e \"a\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e.my_reverse                       \u003cspan class=\"synComment\"\u003e# =\u003e \"\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ereverse\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.iter_reverse          \u003cspan class=\"synComment\"\u003e# =\u003e \"esrever\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ea\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.iter_reverse                \u003cspan class=\"synComment\"\u003e# =\u003e \"a\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e.iter_reverse                 \u003cspan class=\"synComment\"\u003e# =\u003e \"\"\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"01\"\u003e01\u003c/h2\u003e\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink=\"\"\u003e\u003ccode class=\"code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synComment\"\u003e# 01 文字列の奇数番目だけ取り出した新しい文字列を返す\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003estr_odd\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    iter(\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e, \u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synStatement\"\u003eprivate\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter\u003c/span\u003e(index, str)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e index \u0026#x3C; length\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e index.even?\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        iter(index + \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, str + \u003cspan class=\"synConstant\"\u003eself\u003c/span\u003e[index])\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        iter(index + \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, str)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      str\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003ehello\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.str_odd                \u003cspan class=\"synComment\"\u003e# =\u003e \"hlo\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eabcde\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.str_odd                \u003cspan class=\"synComment\"\u003e# =\u003e \"ace\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eパタトクカシーー\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e.str_odd     \u003cspan class=\"synComment\"\u003e# =\u003e \"パトカー\"\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"02\"\u003e02\u003c/h2\u003e\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink=\"\"\u003e\u003ccode class=\"code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synComment\"\u003e# 02 ２つの文字列を受け取り，先頭から交互に混ぜた文字列をつくる\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003ecomb_str\u003c/span\u003e(str1, str2)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  iter(str1, str2, \u003cspan class=\"synSpecial\"\u003e''\u003c/span\u003e)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eiter\u003c/span\u003e(str1, str2, result)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e str1.empty?\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    result + str2\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synStatement\"\u003eelsif\u003c/span\u003e str2.empty?\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    result + str1\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    iter(str1[\u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e..\u003cspan class=\"synConstant\"\u003e-1\u003c/span\u003e], str2[\u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e..\u003cspan class=\"synConstant\"\u003e-1\u003c/span\u003e], result + str1[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e] + str2[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e])\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003ecomb_str(\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eパトカー\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e, \u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eタクシー\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e'\u003c/span\u003e) \u003cspan class=\"synComment\"\u003e# =\u003e \"パタトクカシーー\"\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"03\"\u003e03\u003c/h2\u003e\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink=\"\"\u003e\u003ccode class=\"code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synComment\"\u003e# 03 文字列から数字のリストをつくる\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003epi\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    split.map(\u0026#x26;\u003cspan class=\"synConstant\"\u003e:length\u003c/span\u003e)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e\"\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eNow I need a drink, alcoholic of course, after the heavy lectures involving quantum mechanics.\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e\"\u003c/span\u003e.pi\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e \u003cspan class=\"synComment\"\u003e# =\u003e [3, 1, 4, 1, 6, 9, 2, 7, 5, 3, 5, 8, 9, 7, 10]\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"04\"\u003e04\u003c/h2\u003e\n\u003cpre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink=\"\"\u003e\u003ccode class=\"code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synComment\"\u003e# 04 文字列を受け取り，単語に分解し，1, 5, 6, 7, 8, 9, 15, 16, 19番目の単語は先頭の1文字\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synComment\"\u003e# それ以外の単語は先頭に2文字を取り出し，取り出した文字列から単語の位置（先頭から何番目の単語か）への連想配列を返す\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eclass\u003c/span\u003e \u003cspan class=\"synType\"\u003eString\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003eelement\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    recur(split, \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, [])\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synStatement\"\u003eprivate\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003ehelper\u003c/span\u003e(str, i)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003ecase\u003c/span\u003e i\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003ewhen\u003c/span\u003e \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e5\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e6\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e7\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e8\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e9\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e15\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e16\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e19\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      [str[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e], i]\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      [str[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e, \u003cspan class=\"synConstant\"\u003e2\u003c/span\u003e], i]\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003edef\u003c/span\u003e \u003cspan class=\"synIdentifier\"\u003erecur\u003c/span\u003e(arr, index, result)\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eif\u003c/span\u003e arr.empty?\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      result\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      recur(arr.drop(\u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e), index + \u003cspan class=\"synConstant\"\u003e1\u003c/span\u003e, result.push(helper(arr[\u003cspan class=\"synConstant\"\u003e0\u003c/span\u003e], index)))\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"synStatement\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synPreProc\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synSpecial\"\u003e\"\u003c/span\u003e\u003cspan class=\"synConstant\"\u003eHi He Lied Because Boron Could Not Oxidize Fluorine. New Nations Might Also Sign Peace Security Clause. Arthur King Can.\u003c/span\u003e\u003cspan class=\"synSpecial\"\u003e\"\u003c/span\u003e.element\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"synComment\"\u003e# =\u003e [[\"H\", 1], [\"He\", 2], [\"Li\", 3], [\"Be\", 4], [\"B\", 5], [\"C\", 6], [\"N\", 7], [\"O\", 8], [\"F\", 9], [\"Ne\", 10], [\"Na\", 11], [\"Mi\", 12], [\"Al\", 13], [\"Si\", 14], [\"P\", 15], [\"S\", 16], [\"Cl\", 17], [\"Ar\", 18], [\"K\", 19], [\"Ca\", 20]]\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStringクラスを一読するのに時間がかかったので今日はこれだけ．\u003c/p\u003e"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"Rubyで言語処理100本ノック 00-04"},"buildId":"HLzeiosRgVps8tLClOYaI","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>