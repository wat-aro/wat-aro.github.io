{"pageProps":{"title":"SICP 問題 3.65","published":"2015/12/11","tags":["scheme","SICP"],"content":"<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\"><span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> <span class=\"synSpecial\">(</span>ln2-summands n<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">  <span class=\"synSpecial\">(</span>cons-stream <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">/</span> <span class=\"synConstant\">1.0</span> n<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">               <span class=\"synSpecial\">(</span>stream-map <span class=\"synIdentifier\">-</span> <span class=\"synSpecial\">(</span>ln2-summands <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">+</span> n <span class=\"synConstant\">1</span><span class=\"synSpecial\">)))))</span>\n</span><span class=\"code-line\">\n</span><span class=\"code-line\"><span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> ln2-stream\n</span><span class=\"code-line\">  <span class=\"synSpecial\">(</span>partial-sums <span class=\"synSpecial\">(</span>ln2-summands <span class=\"synConstant\">1</span><span class=\"synSpecial\">)))</span>\n</span></code></pre>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">gosh> (stream-head ln2-stream 20)\n</span><span class=\"code-line\">1.0\n</span><span class=\"code-line\">0.5\n</span><span class=\"code-line\">0.8333333333333333\n</span><span class=\"code-line\">0.5833333333333333\n</span><span class=\"code-line\">0.7833333333333332\n</span><span class=\"code-line\">0.6166666666666666\n</span><span class=\"code-line\">0.7595238095238095\n</span><span class=\"code-line\">0.6345238095238095\n</span><span class=\"code-line\">0.7456349206349207\n</span><span class=\"code-line\">0.6456349206349207\n</span><span class=\"code-line\">0.7365440115440116\n</span><span class=\"code-line\">0.6532106782106782\n</span><span class=\"code-line\">0.7301337551337552\n</span><span class=\"code-line\">0.6587051837051838\n</span><span class=\"code-line\">0.7253718503718505\n</span><span class=\"code-line\">0.6628718503718505\n</span><span class=\"code-line\">0.7216953797836152\n</span><span class=\"code-line\">0.6661398242280596\n</span><span class=\"code-line\">0.718771403175428\n</span><span class=\"code-line\">0.6687714031754279\n</span><span class=\"code-line\">done\n</span><span class=\"code-line\">gosh> (stream-head (euler-transform ln2-stream) 20)\n</span><span class=\"code-line\">0.7\n</span><span class=\"code-line\">0.6904761904761905\n</span><span class=\"code-line\">0.6944444444444444\n</span><span class=\"code-line\">0.6924242424242424\n</span><span class=\"code-line\">0.6935897435897436\n</span><span class=\"code-line\">0.6928571428571428\n</span><span class=\"code-line\">0.6933473389355742\n</span><span class=\"code-line\">0.6930033416875522\n</span><span class=\"code-line\">0.6932539682539683\n</span><span class=\"code-line\">0.6930657506744464\n</span><span class=\"code-line\">0.6932106782106783\n</span><span class=\"code-line\">0.6930967180967181\n</span><span class=\"code-line\">0.6931879423258734\n</span><span class=\"code-line\">0.6931137858557215\n</span><span class=\"code-line\">0.6931748806748808\n</span><span class=\"code-line\">0.6931239512121866\n</span><span class=\"code-line\">0.6931668512550866\n</span><span class=\"code-line\">0.6931303775344023\n</span><span class=\"code-line\">0.693161647077867\n</span><span class=\"code-line\">0.6931346368409872\n</span><span class=\"code-line\">done\n</span><span class=\"code-line\">gosh> (stream-head (accelerated-sequence euler-transform ln2-stream) 20)\n</span><span class=\"code-line\">1.0\n</span><span class=\"code-line\">0.7\n</span><span class=\"code-line\">0.6932773109243697\n</span><span class=\"code-line\">0.6931488693329254\n</span><span class=\"code-line\">0.6931471960735491\n</span><span class=\"code-line\">0.6931471806635636\n</span><span class=\"code-line\">0.6931471805604039\n</span><span class=\"code-line\">0.6931471805599445\n</span><span class=\"code-line\">0.6931471805599427\n</span><span class=\"code-line\">0.6931471805599454\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">+nan.0\n</span><span class=\"code-line\">done</span></code></pre>\n<p>3.66はパス</p>","slug":"SICP 問題 3.65","rawContent":"\n\n<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink><span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> <span class=\"synSpecial\">(</span>ln2-summands n<span class=\"synSpecial\">)</span>\n  <span class=\"synSpecial\">(</span>cons-stream <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">/</span> <span class=\"synConstant\">1.0</span> n<span class=\"synSpecial\">)</span>\n               <span class=\"synSpecial\">(</span>stream-map <span class=\"synIdentifier\">-</span> <span class=\"synSpecial\">(</span>ln2-summands <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">+</span> n <span class=\"synConstant\">1</span><span class=\"synSpecial\">)))))</span>\n\n<span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> ln2-stream\n  <span class=\"synSpecial\">(</span>partial-sums <span class=\"synSpecial\">(</span>ln2-summands <span class=\"synConstant\">1</span><span class=\"synSpecial\">)))</span>\n</pre>\n\n\n\n\n<pre class=\"code\" data-lang=\"\" data-unlink>gosh&gt; (stream-head ln2-stream 20)\n1.0\n0.5\n0.8333333333333333\n0.5833333333333333\n0.7833333333333332\n0.6166666666666666\n0.7595238095238095\n0.6345238095238095\n0.7456349206349207\n0.6456349206349207\n0.7365440115440116\n0.6532106782106782\n0.7301337551337552\n0.6587051837051838\n0.7253718503718505\n0.6628718503718505\n0.7216953797836152\n0.6661398242280596\n0.718771403175428\n0.6687714031754279\ndone\ngosh&gt; (stream-head (euler-transform ln2-stream) 20)\n0.7\n0.6904761904761905\n0.6944444444444444\n0.6924242424242424\n0.6935897435897436\n0.6928571428571428\n0.6933473389355742\n0.6930033416875522\n0.6932539682539683\n0.6930657506744464\n0.6932106782106783\n0.6930967180967181\n0.6931879423258734\n0.6931137858557215\n0.6931748806748808\n0.6931239512121866\n0.6931668512550866\n0.6931303775344023\n0.693161647077867\n0.6931346368409872\ndone\ngosh&gt; (stream-head (accelerated-sequence euler-transform ln2-stream) 20)\n1.0\n0.7\n0.6932773109243697\n0.6931488693329254\n0.6931471960735491\n0.6931471806635636\n0.6931471805604039\n0.6931471805599445\n0.6931471805599427\n0.6931471805599454\n+nan.0\n+nan.0\n+nan.0\n+nan.0\n+nan.0\n+nan.0\n+nan.0\n+nan.0\n+nan.0\n+nan.0\ndone</pre>\n\n\n<p>3.66はパス</p>\n\n"},"__N_SSG":true}