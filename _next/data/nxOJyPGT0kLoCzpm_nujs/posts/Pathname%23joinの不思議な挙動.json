{"pageProps":{"title":"Pathname#joinの不思議な挙動","published":"2017/01/12","tags":["ruby"],"content":"<p>空のPathname同士をjoinした時に期待と違う挙動があった。</p>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\"> $ ruby -v\n</span><span class=\"code-line\">ruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-darwin16]</span></code></pre>\n<p>期待していたのは次の動作。</p>\n<pre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">path = <span class=\"synType\">Pathname</span>.new(<span class=\"synSpecial\">''</span>)         <span class=\"synComment\"># => #&#x3C;Pathname:></span>\n</span><span class=\"code-line\">path.join(path)                 <span class=\"synComment\"># => #&#x3C;Pathname:></span>\n</span></code></pre>\n<p>でも実際はこうなっていた。</p>\n<pre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">path = <span class=\"synType\">Pathname</span>.new(<span class=\"synSpecial\">''</span>)         <span class=\"synComment\"># => #&#x3C;Pathname:></span>\n</span><span class=\"code-line\">path.join(path)                 <span class=\"synComment\"># => #&#x3C;Pathname:.></span>\n</span></code></pre>\n<p>空のPathnameと空のPathnameをjoinしてるんだから空のPathnameが欲しかったのに、 <code>.</code> がどこからか出てきてる。<br>\nなぜこうなっているんだろう。</p>","slug":"Pathname#joinの不思議な挙動","rawContent":"\n<p>空のPathname同士をjoinした時に期待と違う挙動があった。</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink> $ ruby -v\nruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-darwin16]</pre>\n\n\n<p>期待していたのは次の動作。</p>\n\n<pre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink>path = <span class=\"synType\">Pathname</span>.new(<span class=\"synSpecial\">''</span>)         <span class=\"synComment\"># =&gt; #&lt;Pathname:&gt;</span>\npath.join(path)                 <span class=\"synComment\"># =&gt; #&lt;Pathname:&gt;</span>\n</pre>\n\n\n<p>でも実際はこうなっていた。</p>\n\n<pre class=\"code lang-ruby\" data-lang=\"ruby\" data-unlink>path = <span class=\"synType\">Pathname</span>.new(<span class=\"synSpecial\">''</span>)         <span class=\"synComment\"># =&gt; #&lt;Pathname:&gt;</span>\npath.join(path)                 <span class=\"synComment\"># =&gt; #&lt;Pathname:.&gt;</span>\n</pre>\n\n\n<p>空のPathnameと空のPathnameをjoinしてるんだから空のPathnameが欲しかったのに、 <code>.</code> がどこからか出てきてる。<br/>\nなぜこうなっているんだろう。</p>\n\n"},"__N_SSG":true}