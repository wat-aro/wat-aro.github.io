{"pageProps":{"post":{"title":"Nginxでsites-enabledが読み込まれない","published":"2016/03/10","tags":[],"content":"\n<p>nginx version: nginx/1.8.1</p>\n\n<p><iframe src=\"//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww26.atwiki.jp%2Fnginx%2Fpages%2F13.html\" title=\"nginx @ ウィキ - nginx　バーチャルホスト\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"http://www26.atwiki.jp/nginx/pages/13.html\">www26.atwiki.jp</a></cite></p>\n\n<p>ここを見ながらnginxでVirtual Host を構築しようとしていました．<br/>\nただここのやり方では <code>/etc/nginx/conf.d/default.conf</code> が読み込まれてしまうのその対処方法を書きます．</p>\n\n<p><code>/etc/nginx/nginx.conf</code>を開くとこうなっているはずです．</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>user  nginx;\nworker_processes  1;\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &#34;$request&#34; &#39;\n                      &#39;$status $body_bytes_sent &#34;$http_referer&#34; &#39;\n                      &#39;&#34;$http_user_agent&#34; &#34;$http_x_forwarded_for&#34;&#39;;\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    tcp_nopush     on;\n\n    keepalive_timeout  65;\n\n    gzip  on;\n\n    include /etc/nginx/conf.d/*.conf;\n}</pre>\n\n\n<p>http内のincludeの次の行に新しくincludeを追加します．</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>user  nginx;\nworker_processes  1;\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &#34;$request&#34; &#39;\n                      &#39;$status $body_bytes_sent &#34;$http_referer&#34; &#39;\n                      &#39;&#34;$http_user_agent&#34; &#34;$http_x_forwarded_for&#34;&#39;;\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    tcp_nopush     on;\n\n    keepalive_timeout  65;\n\n    gzip  on;\n\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}</pre>\n\n\n","slug":"Nginxでsites-enabledが読み込まれない"},"content":"<p>nginx version: nginx/1.8.1</p>\n<p><iframe src=\"//hatenablog-parts.com/embed?url=http%3A%2F%2Fwww26.atwiki.jp%2Fnginx%2Fpages%2F13.html\" title=\"nginx @ ウィキ - nginx　バーチャルホスト\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"http://www26.atwiki.jp/nginx/pages/13.html\">www26.atwiki.jp</a></cite></p>\n<p>ここを見ながらnginxでVirtual Host を構築しようとしていました．<br>\nただここのやり方では <code>/etc/nginx/conf.d/default.conf</code> が読み込まれてしまうのその対処方法を書きます．</p>\n<p><code>/etc/nginx/nginx.conf</code>を開くとこうなっているはずです．</p>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">user  nginx;\n</span><span class=\"code-line\">worker_processes  1;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">error_log  /var/log/nginx/error.log warn;\n</span><span class=\"code-line\">pid        /var/run/nginx.pid;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">events {\n</span><span class=\"code-line\">    worker_connections  1024;\n</span><span class=\"code-line\">}\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">http {\n</span><span class=\"code-line\">    include       /etc/nginx/mime.types;\n</span><span class=\"code-line\">    default_type  application/octet-stream;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n</span><span class=\"code-line\">                      '$status $body_bytes_sent \"$http_referer\" '\n</span><span class=\"code-line\">                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    access_log  /var/log/nginx/access.log  main;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    sendfile        on;\n</span><span class=\"code-line\">    tcp_nopush     on;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    keepalive_timeout  65;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    gzip  on;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    include /etc/nginx/conf.d/*.conf;\n</span><span class=\"code-line\">}</span></code></pre>\n<p>http内のincludeの次の行に新しくincludeを追加します．</p>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">user  nginx;\n</span><span class=\"code-line\">worker_processes  1;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">error_log  /var/log/nginx/error.log warn;\n</span><span class=\"code-line\">pid        /var/run/nginx.pid;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">events {\n</span><span class=\"code-line\">    worker_connections  1024;\n</span><span class=\"code-line\">}\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">http {\n</span><span class=\"code-line\">    include       /etc/nginx/mime.types;\n</span><span class=\"code-line\">    default_type  application/octet-stream;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n</span><span class=\"code-line\">                      '$status $body_bytes_sent \"$http_referer\" '\n</span><span class=\"code-line\">                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    access_log  /var/log/nginx/access.log  main;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    sendfile        on;\n</span><span class=\"code-line\">    tcp_nopush     on;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    keepalive_timeout  65;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    gzip  on;\n</span><span class=\"code-line\">\n</span><span class=\"code-line\">    include /etc/nginx/conf.d/*.conf;\n</span><span class=\"code-line\">    include /etc/nginx/sites-enabled/*;\n</span><span class=\"code-line\">}</span></code></pre>"},"__N_SSG":true}