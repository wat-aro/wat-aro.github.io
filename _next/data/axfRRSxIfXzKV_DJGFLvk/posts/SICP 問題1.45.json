{"pageProps":{"post":{"data":{"title":"SICP 問題1.45","published":"2015/10/09","tags":["scheme","SICP"]},"content":"\n\n<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink><span class=\"synComment\">;;実験用に作った手続き</span>\n<span class=\"synComment\">;; x^n k回平均緩和</span>\n<span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> <span class=\"synSpecial\">(</span>test x n k<span class=\"synSpecial\">)</span>\n  <span class=\"synSpecial\">(</span>fixed-point-of-transform <span class=\"synSpecial\">(</span><span class=\"synStatement\">lambda</span> <span class=\"synSpecial\">(</span>y<span class=\"synSpecial\">)</span> <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">/</span> x <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">expt</span> y <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">-</span> n <span class=\"synConstant\">1</span><span class=\"synSpecial\">))))</span>\n                            <span class=\"synSpecial\">(</span><span class=\"synStatement\">lambda</span> <span class=\"synSpecial\">(</span>z<span class=\"synSpecial\">)</span> <span class=\"synSpecial\">((</span>repeated average-damp k<span class=\"synSpecial\">)</span> z<span class=\"synSpecial\">))</span>\n                            <span class=\"synConstant\">1.0</span><span class=\"synSpecial\">))</span>\n</pre>\n\n\n<p>実験の結果，<br/>\n2 ≦ n &lt; 4 の時 k=1<br/>\n4 ≦ n &lt; 8 の時 k=2<br/>\n8 ≦ n &lt; 16 の時 k=3<br/>\n16 ≦ n &lt; 32 の時 k=4<br/>\n32 ≦ n &lt; 64 の時 k=5<br/>\nn乗根に必要な平均緩和の回数は(log2 n) 回(小数部分切り捨て)．<br/>\nn√xを求めるnth-rootを実装する．</p>\n\n<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink><span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> <span class=\"synSpecial\">(</span>nth-root x n<span class=\"synSpecial\">)</span>\n  <span class=\"synSpecial\">(</span><span class=\"synStatement\">let</span> <span class=\"synSpecial\">((</span>k <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">floor</span> <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">log</span> n <span class=\"synConstant\">2</span><span class=\"synSpecial\">))))</span>\n    <span class=\"synSpecial\">(</span>fixed-point <span class=\"synSpecial\">((</span>repeated average-damp k<span class=\"synSpecial\">)</span>\n                  <span class=\"synSpecial\">(</span><span class=\"synStatement\">lambda</span> <span class=\"synSpecial\">(</span>y<span class=\"synSpecial\">)</span>\n                    <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">/</span> x <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">expt</span> y\n                               <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">-</span> x <span class=\"synConstant\">1</span><span class=\"synSpecial\">)))))</span>\n                 <span class=\"synConstant\">1.0</span><span class=\"synSpecial\">)))</span>\n</pre>\n\n\n","slug":"SICP 問題1.45"},"content":"<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\"><span class=\"synComment\">;;実験用に作った手続き</span>\n</span><span class=\"code-line\"><span class=\"synComment\">;; x^n k回平均緩和</span>\n</span><span class=\"code-line\"><span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> <span class=\"synSpecial\">(</span>test x n k<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">  <span class=\"synSpecial\">(</span>fixed-point-of-transform <span class=\"synSpecial\">(</span><span class=\"synStatement\">lambda</span> <span class=\"synSpecial\">(</span>y<span class=\"synSpecial\">)</span> <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">/</span> x <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">expt</span> y <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">-</span> n <span class=\"synConstant\">1</span><span class=\"synSpecial\">))))</span>\n</span><span class=\"code-line\">                            <span class=\"synSpecial\">(</span><span class=\"synStatement\">lambda</span> <span class=\"synSpecial\">(</span>z<span class=\"synSpecial\">)</span> <span class=\"synSpecial\">((</span>repeated average-damp k<span class=\"synSpecial\">)</span> z<span class=\"synSpecial\">))</span>\n</span><span class=\"code-line\">                            <span class=\"synConstant\">1.0</span><span class=\"synSpecial\">))</span>\n</span></code></pre>\n<p>実験の結果，<br>\n2 ≦ n &#x3C; 4 の時 k=1<br>\n4 ≦ n &#x3C; 8 の時 k=2<br>\n8 ≦ n &#x3C; 16 の時 k=3<br>\n16 ≦ n &#x3C; 32 の時 k=4<br>\n32 ≦ n &#x3C; 64 の時 k=5<br>\nn乗根に必要な平均緩和の回数は(log2 n) 回(小数部分切り捨て)．<br>\nn√xを求めるnth-rootを実装する．</p>\n<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\"><span class=\"synSpecial\">(</span><span class=\"synStatement\">define</span> <span class=\"synSpecial\">(</span>nth-root x n<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">  <span class=\"synSpecial\">(</span><span class=\"synStatement\">let</span> <span class=\"synSpecial\">((</span>k <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">floor</span> <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">log</span> n <span class=\"synConstant\">2</span><span class=\"synSpecial\">))))</span>\n</span><span class=\"code-line\">    <span class=\"synSpecial\">(</span>fixed-point <span class=\"synSpecial\">((</span>repeated average-damp k<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">                  <span class=\"synSpecial\">(</span><span class=\"synStatement\">lambda</span> <span class=\"synSpecial\">(</span>y<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">                    <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">/</span> x <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">expt</span> y\n</span><span class=\"code-line\">                               <span class=\"synSpecial\">(</span><span class=\"synIdentifier\">-</span> x <span class=\"synConstant\">1</span><span class=\"synSpecial\">)))))</span>\n</span><span class=\"code-line\">                 <span class=\"synConstant\">1.0</span><span class=\"synSpecial\">)))</span>\n</span></code></pre>"},"__N_SSG":true}