{"pageProps":{"posts":[{"data":{"title":"json で nom のお勉強","published":"2022/05/16","tags":["Rust","nom"]},"content":"\n旧ブログの `movable type` を `markdown` に変換したい。  \n[nom](https://github.com/Geal/nom) でパースしようと思ったが Readme を読んでもいまいちしっくりこない。  \nparsec と同じようにはできませんか。\nとりあえず練習がてら何かをパースしてみる。  \n仕様があるほうが嬉しいので探してみると [json](https://www.json.org/json-ja.html) がよさそうだった。  \nまずは `digits` を書いてみた。  \n[digit1](https://docs.rs/nom/latest/nom/character/complete/fn.digit1.html) を使えば終わりなのだが、それでは練習にならないため定義通りに実装。\n\nhttps://github.com/wat-aro/wjson\n\n```rust\nfn zero(input: &str) -> IResult<&str, u64> {\n    map(char('0'), |c| c.to_string().parse::<u64>().unwrap())(input)\n}\n\nfn onenine(input: &str) -> IResult<&str, u64> {\n    map(\n        alt((\n            char('1'),\n            char('2'),\n            char('3'),\n            char('4'),\n            char('5'),\n            char('6'),\n            char('7'),\n            char('8'),\n            char('9'),\n        )),\n        |c| c.to_string().parse::<u64>().unwrap(),\n    )(input)\n}\n\npub fn digit(input: &str) -> IResult<&str, u64> {\n    alt((zero, onenine))(input)\n}\n\npub fn digits(input: &str) -> IResult<&str, u64> {\n    let (rest, v) = many1(digit)(input)?;\n    let str_vec: String = v.iter().map(|d| d.to_string()).collect::<String>();\n\n    Ok((rest, str_vec.parse().unwrap()))\n}\n```\n\nまだ `Rust` を書き慣れていないけれど楽しい。\n","slug":"study-nom-by-json"},{"data":{"title":"ブログを移転しました","published":"2022/05/15"},"content":"\nhttps://wat-aro.hatenablog.com/ のブログを移転。\n`github.io` 用にドメインは前から取得していたが、やっとサイトを作成する気になった。\n今後はこちらに書いていくつもり。\n\n使用技術は\n\n- Next.js\n- TypeScript\n- Tailwind CSS\n- github.io\n\nNext.js の開発体験はいいね。  \nあまり難しいことはやらないつもりだけど、 `webassembly` まわりの何かを仕込んでみたい。  \n残作業は\n\n- 旧ブログのデータのインポート\n- OGP の設定\n- reveal.js で書いたスライドをこのサイトで表示できるようにする\n\n### 旧ブログのデータのインポート\n\nはてなブログは `Movable Type` でデータをエクスポートできる。  \nこれを `markdown` に変換して移行する予定。  \n`Rust` の練習にちょうどいいかなーと思ってる。\n\n### OGP の設定\n\n[puppeteer](https://github.com/puppeteer/puppeteer) を使う予定。  \n`next export` を叩く前に `markdown` のファイルごとにスクリーンショットを取ればいけるかと。  \n若干めんどくさくなっているが、最後まで頑張ろう。\n\n### reveal.js で書いたスライドをこのサイトで表示できるようにする\n\nプロフィールにリンクはあるけれど、これを `Next.js` で管理できるようにしたい。  \nしばらくは [About](https://wat-aro.dev/about) に書いたままにする。\n\n### 最後に\n\n数年まともにブログを書いてこなかったので今後はちゃんと書いていくつもり。  \nやるぞ！\n","slug":"moved-my-blog-to-github-io"}]},"__N_SSG":true}