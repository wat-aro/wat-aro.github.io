{"pageProps":{"post":{"data":{"title":"SICP 問題 4.64","published":"2016/01/17","tags":["scheme","SICP"]},"content":"\n\n<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink><span class=\"synSpecial\">(</span>rule <span class=\"synSpecial\">(</span>outranked-by ?staff-person ?boss<span class=\"synSpecial\">)</span>\n      <span class=\"synSpecial\">(</span><span class=\"synStatement\">or</span> <span class=\"synSpecial\">(</span>supervisor ?staff-person ?boss<span class=\"synSpecial\">)</span>\n          <span class=\"synSpecial\">(</span><span class=\"synStatement\">and</span> <span class=\"synSpecial\">(</span>outranked-by ?middle-manager ?boss<span class=\"synSpecial\">)</span>\n               <span class=\"synSpecial\">(</span>supervisor ?staff-person ?middle-manager<span class=\"synSpecial\">))))</span>\n\n<span class=\"synSpecial\">(</span>outranked-by <span class=\"synSpecial\">(</span>Bitdiddle Ben<span class=\"synSpecial\">)</span> ?who<span class=\"synSpecial\">)</span>\n</pre>\n\n\n<p>まずoutranked-byの?staff-personにBitdiddle Benが束縛される．<br/>\n次に(supervisor ?staff-person ?boss)でBitdiddle Benの上司が?bossに束縛される．これを仮にAとする．<br/>\nそしてoutranked-byが?bossがAとして?middle-managerを探す．※<br/>\nここから二周目．<br/>\nsupervisor行で?bossをAとして部下Bが?staff-personに束縛される．<br/>\nandのoutranked-byで?bossをAとして?middle-managerを探す．<br/>\n※印をつけたところ同じところを探し始めているのでここで無限ループに陥る．<br/>\n正しいoutranked-byは以下の通り．</p>\n\n<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink><span class=\"synSpecial\">(</span>rule <span class=\"synSpecial\">(</span>outranked-by ?staff-person ?boss<span class=\"synSpecial\">)</span>\n      <span class=\"synSpecial\">(</span><span class=\"synStatement\">or</span> <span class=\"synSpecial\">(</span>supervisor ?staff-person ?boss<span class=\"synSpecial\">)</span>\n          <span class=\"synSpecial\">(</span><span class=\"synStatement\">and</span> <span class=\"synSpecial\">(</span>supervisor ?staff-person ?middle-manager<span class=\"synSpecial\">)</span>\n               <span class=\"synSpecial\">(</span>outranked-by ?middle-manager ?boss<span class=\"synSpecial\">))))</span>\n</pre>\n\n\n","slug":"SICP 問題 4.64"},"content":"<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\"><span class=\"synSpecial\">(</span>rule <span class=\"synSpecial\">(</span>outranked-by ?staff-person ?boss<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">      <span class=\"synSpecial\">(</span><span class=\"synStatement\">or</span> <span class=\"synSpecial\">(</span>supervisor ?staff-person ?boss<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">          <span class=\"synSpecial\">(</span><span class=\"synStatement\">and</span> <span class=\"synSpecial\">(</span>outranked-by ?middle-manager ?boss<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">               <span class=\"synSpecial\">(</span>supervisor ?staff-person ?middle-manager<span class=\"synSpecial\">))))</span>\n</span><span class=\"code-line\">\n</span><span class=\"code-line\"><span class=\"synSpecial\">(</span>outranked-by <span class=\"synSpecial\">(</span>Bitdiddle Ben<span class=\"synSpecial\">)</span> ?who<span class=\"synSpecial\">)</span>\n</span></code></pre>\n<p>まずoutranked-byの?staff-personにBitdiddle Benが束縛される．<br>\n次に(supervisor ?staff-person ?boss)でBitdiddle Benの上司が?bossに束縛される．これを仮にAとする．<br>\nそしてoutranked-byが?bossがAとして?middle-managerを探す．※<br>\nここから二周目．<br>\nsupervisor行で?bossをAとして部下Bが?staff-personに束縛される．<br>\nandのoutranked-byで?bossをAとして?middle-managerを探す．<br>\n※印をつけたところ同じところを探し始めているのでここで無限ループに陥る．<br>\n正しいoutranked-byは以下の通り．</p>\n<pre class=\"code lang-scheme\" data-lang=\"scheme\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\"><span class=\"synSpecial\">(</span>rule <span class=\"synSpecial\">(</span>outranked-by ?staff-person ?boss<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">      <span class=\"synSpecial\">(</span><span class=\"synStatement\">or</span> <span class=\"synSpecial\">(</span>supervisor ?staff-person ?boss<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">          <span class=\"synSpecial\">(</span><span class=\"synStatement\">and</span> <span class=\"synSpecial\">(</span>supervisor ?staff-person ?middle-manager<span class=\"synSpecial\">)</span>\n</span><span class=\"code-line\">               <span class=\"synSpecial\">(</span>outranked-by ?middle-manager ?boss<span class=\"synSpecial\">))))</span>\n</span></code></pre>"},"__N_SSG":true}