{"pageProps":{"post":{"data":{"title":"剰余を使わないFizzBuzz","published":"2016/11/25","tags":["Haskell"]},"content":"\n<p>先日ESMで開かれた<a href=\"https://yochiyochihs.doorkeeper.jp/events/54217\">よちよち.hs</a>に参加しました．<br/>\nそこで剰余を使わずにzip3と無限リストを使って<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/FizzBuzz\">FizzBuzz</a>を書く話があったので書いてみました．</p>\n\n<pre class=\"code lang-haskell\" data-lang=\"haskell\" data-unlink>fizzbuzz <span class=\"synStatement\">=</span> map fizzbuzz' <span class=\"synStatement\">$</span> zip3 [<span class=\"synConstant\">1</span><span class=\"synStatement\">..</span>] (cycle [<span class=\"synConstant\">&quot;&quot;</span>,<span class=\"synConstant\">&quot;&quot;</span>,<span class=\"synConstant\">&quot;Fizz&quot;</span>]) (cycle [<span class=\"synConstant\">&quot;&quot;</span>, <span class=\"synConstant\">&quot;&quot;</span>, <span class=\"synConstant\">&quot;&quot;</span>, <span class=\"synConstant\">&quot;&quot;</span>,<span class=\"synConstant\">&quot;Buzz&quot;</span>])\n  <span class=\"synType\">where</span> fizzbuzz' (_, <span class=\"synConstant\">&quot;Fizz&quot;</span>, <span class=\"synConstant\">&quot;Buzz&quot;</span>) <span class=\"synStatement\">=</span> <span class=\"synConstant\">&quot;FizzBuzz&quot;</span>\n        fizzbuzz' (_, <span class=\"synConstant\">&quot;Fizz&quot;</span>, _) <span class=\"synStatement\">=</span> <span class=\"synConstant\">&quot;Fizz&quot;</span>\n        fizzbuzz' (_, _, <span class=\"synConstant\">&quot;Buzz&quot;</span>) <span class=\"synStatement\">=</span> <span class=\"synConstant\">&quot;Buzz&quot;</span>\n        fizzbuzz' (n, _, _) <span class=\"synStatement\">=</span> show n\n</pre>\n\n\n\n\n<pre class=\"code\" data-lang=\"\" data-unlink>*Main&gt; take 100 fizzbuzz\n[&#34;1&#34;,&#34;2&#34;,&#34;Fizz&#34;,&#34;4&#34;,&#34;Buzz&#34;,&#34;Fizz&#34;,&#34;7&#34;,&#34;8&#34;,&#34;Fizz&#34;,&#34;Buzz&#34;,&#34;11&#34;,&#34;Fizz&#34;,&#34;13&#34;,&#34;14&#34;,&#34;FizzBuzz&#34;,&#34;16&#34;,&#34;17&#34;,&#34;Fizz&#34;,&#34;19&#34;,&#34;Buzz&#34;,&#34;Fizz&#34;,&#34;22&#34;,&#34;23&#34;,&#34;Fizz&#34;,&#34;Buzz&#34;,&#34;26&#34;,&#34;Fizz&#34;,&#34;28&#34;,&#34;29&#34;,&#34;FizzBuzz&#34;,&#34;31&#34;,&#34;32&#34;,&#34;Fizz&#34;,&#34;34&#34;,&#34;Buzz&#34;,&#34;Fizz&#34;,&#34;37&#34;,&#34;38&#34;,&#34;Fizz&#34;,&#34;Buzz&#34;,&#34;41&#34;,&#34;Fizz&#34;,&#34;43&#34;,&#34;44&#34;,&#34;FizzBuzz&#34;,&#34;46&#34;,&#34;47&#34;,&#34;Fizz&#34;,&#34;49&#34;,&#34;Buzz&#34;,&#34;Fizz&#34;,&#34;52&#34;,&#34;53&#34;,&#34;Fizz&#34;,&#34;Buzz&#34;,&#34;56&#34;,&#34;Fizz&#34;,&#34;58&#34;,&#34;59&#34;,&#34;FizzBuzz&#34;,&#34;61&#34;,&#34;62&#34;,&#34;Fizz&#34;,&#34;64&#34;,&#34;Buzz&#34;,&#34;Fizz&#34;,&#34;67&#34;,&#34;68&#34;,&#34;Fizz&#34;,&#34;Buzz&#34;,&#34;71&#34;,&#34;Fizz&#34;,&#34;73&#34;,&#34;74&#34;,&#34;FizzBuzz&#34;,&#34;76&#34;,&#34;77&#34;,&#34;Fizz&#34;,&#34;79&#34;,&#34;Buzz&#34;,&#34;Fizz&#34;,&#34;82&#34;,&#34;83&#34;,&#34;Fizz&#34;,&#34;Buzz&#34;,&#34;86&#34;,&#34;Fizz&#34;,&#34;88&#34;,&#34;89&#34;,&#34;FizzBuzz&#34;,&#34;91&#34;,&#34;92&#34;,&#34;Fizz&#34;,&#34;94&#34;,&#34;Buzz&#34;,&#34;Fizz&#34;,&#34;97&#34;,&#34;98&#34;,&#34;Fizz&#34;,&#34;Buzz&#34;]</pre>\n\n\n<p>無限リストが扱いやすくていいですね．<br/>\nこういう書き方もあったとは</p>\n\n","slug":"剰余を使わないFizzBuzz"},"content":"<p>先日ESMで開かれた<a href=\"https://yochiyochihs.doorkeeper.jp/events/54217\">よちよち.hs</a>に参加しました．<br>\nそこで剰余を使わずにzip3と無限リストを使って<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/FizzBuzz\">FizzBuzz</a>を書く話があったので書いてみました．</p>\n<pre class=\"code lang-haskell\" data-lang=\"haskell\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">fizzbuzz <span class=\"synStatement\">=</span> map fizzbuzz' <span class=\"synStatement\">$</span> zip3 [<span class=\"synConstant\">1</span><span class=\"synStatement\">..</span>] (cycle [<span class=\"synConstant\">\"\"</span>,<span class=\"synConstant\">\"\"</span>,<span class=\"synConstant\">\"Fizz\"</span>]) (cycle [<span class=\"synConstant\">\"\"</span>, <span class=\"synConstant\">\"\"</span>, <span class=\"synConstant\">\"\"</span>, <span class=\"synConstant\">\"\"</span>,<span class=\"synConstant\">\"Buzz\"</span>])\n</span><span class=\"code-line\">  <span class=\"synType\">where</span> fizzbuzz' (_, <span class=\"synConstant\">\"Fizz\"</span>, <span class=\"synConstant\">\"Buzz\"</span>) <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"FizzBuzz\"</span>\n</span><span class=\"code-line\">        fizzbuzz' (_, <span class=\"synConstant\">\"Fizz\"</span>, _) <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"Fizz\"</span>\n</span><span class=\"code-line\">        fizzbuzz' (_, _, <span class=\"synConstant\">\"Buzz\"</span>) <span class=\"synStatement\">=</span> <span class=\"synConstant\">\"Buzz\"</span>\n</span><span class=\"code-line\">        fizzbuzz' (n, _, _) <span class=\"synStatement\">=</span> show n\n</span></code></pre>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">*Main> take 100 fizzbuzz\n</span><span class=\"code-line\">[\"1\",\"2\",\"Fizz\",\"4\",\"Buzz\",\"Fizz\",\"7\",\"8\",\"Fizz\",\"Buzz\",\"11\",\"Fizz\",\"13\",\"14\",\"FizzBuzz\",\"16\",\"17\",\"Fizz\",\"19\",\"Buzz\",\"Fizz\",\"22\",\"23\",\"Fizz\",\"Buzz\",\"26\",\"Fizz\",\"28\",\"29\",\"FizzBuzz\",\"31\",\"32\",\"Fizz\",\"34\",\"Buzz\",\"Fizz\",\"37\",\"38\",\"Fizz\",\"Buzz\",\"41\",\"Fizz\",\"43\",\"44\",\"FizzBuzz\",\"46\",\"47\",\"Fizz\",\"49\",\"Buzz\",\"Fizz\",\"52\",\"53\",\"Fizz\",\"Buzz\",\"56\",\"Fizz\",\"58\",\"59\",\"FizzBuzz\",\"61\",\"62\",\"Fizz\",\"64\",\"Buzz\",\"Fizz\",\"67\",\"68\",\"Fizz\",\"Buzz\",\"71\",\"Fizz\",\"73\",\"74\",\"FizzBuzz\",\"76\",\"77\",\"Fizz\",\"79\",\"Buzz\",\"Fizz\",\"82\",\"83\",\"Fizz\",\"Buzz\",\"86\",\"Fizz\",\"88\",\"89\",\"FizzBuzz\",\"91\",\"92\",\"Fizz\",\"94\",\"Buzz\",\"Fizz\",\"97\",\"98\",\"Fizz\",\"Buzz\"]</span></code></pre>\n<p>無限リストが扱いやすくていいですね．<br>\nこういう書き方もあったとは</p>"},"__N_SSG":true}