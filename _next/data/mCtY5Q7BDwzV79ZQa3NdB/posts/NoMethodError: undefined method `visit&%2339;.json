{"pageProps":{"post":{"data":{"title":"NoMethodError: undefined method `visit&#39;","published":"2015/05/17","tags":["Ruby on Rails","Rspec","Capybara"]},"content":"\n<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby%20on%20Rails\">Ruby on Rails</a> 4.2.1で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Rspec\">Rspec</a> + Capybaraでタイトルのエラーが出た時の対策。\n<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby%20on%20Rails\">Ruby on Rails</a> Tutorialではspec_helper.rbに</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>config.include Capybara::DSL</pre>\n\n\n<p>と記述しろと書かれているが、そうすると</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>/vendor/bundle/gems/capybara-2.4.4/lib/capybara/rails.rb:6:in `block (2 levels) in &lt;top (required)&gt;&#39;: uninitialized constant Rails (NameError)</pre>\n\n\n<p>とエラーが起こる。\n<a href=\"http://railstutorial.jp/chapters/static-pages?version=4.0#top\">&#x7B2C;3&#x7AE0; &#x307B;&#x307C;&#x9759;&#x7684;&#x306A;&#x30DA;&#x30FC;&#x30B8;&#x306E;&#x4F5C;&#x6210; | Rails &#x30C1;&#x30E5;&#x30FC;&#x30C8;&#x30EA;&#x30A2;&#x30EB;</a></p>\n\n<p>capybaraが動いていないのだからcapybaraの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/github\">github</a>を見てみると</p>\n\n<hr />\n\n<p>Using Capybara with <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/RSpec\">RSpec</a></p>\n\n<p>Load <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/RSpec\">RSpec</a> 2.x support by adding the following line (typically to your spec_helper.rb file):</p>\n\n<p>require 'capybara/<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/rspec\">rspec</a>'</p>\n\n<hr />\n\n<p>と書かれていたのでこれを冒頭に記述。\n先の</p>\n\n<pre class=\"code\" data-lang=\"\" data-unlink>config.include Capybara::DSL</pre>\n\n\n<p>と合わせればうまくテストが動いた。</p>\n\n","slug":"NoMethodError: undefined method `visit&#39;"},"content":"<p><a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby%20on%20Rails\">Ruby on Rails</a> 4.2.1で<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Rspec\">Rspec</a> + Capybaraでタイトルのエラーが出た時の対策。\n<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/Ruby%20on%20Rails\">Ruby on Rails</a> Tutorialではspec_helper.rbに</p>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">config.include Capybara::DSL</span></code></pre>\n<p>と記述しろと書かれているが、そうすると</p>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">/vendor/bundle/gems/capybara-2.4.4/lib/capybara/rails.rb:6:in `block (2 levels) in &#x3C;top (required)>': uninitialized constant Rails (NameError)</span></code></pre>\n<p>とエラーが起こる。\n<a href=\"http://railstutorial.jp/chapters/static-pages?version=4.0#top\">第3章 ほぼ静的なページの作成 | Rails チュートリアル</a></p>\n<p>capybaraが動いていないのだからcapybaraの<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/github\">github</a>を見てみると</p>\n<hr>\n<p>Using Capybara with <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/RSpec\">RSpec</a></p>\n<p>Load <a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/RSpec\">RSpec</a> 2.x support by adding the following line (typically to your spec_helper.rb file):</p>\n<p>require 'capybara/<a class=\"keyword\" href=\"http://d.hatena.ne.jp/keyword/rspec\">rspec</a>'</p>\n<hr>\n<p>と書かれていたのでこれを冒頭に記述。\n先の</p>\n<pre class=\"code\" data-lang=\"\" data-unlink=\"\"><code class=\"code-highlight\"><span class=\"code-line\">config.include Capybara::DSL</span></code></pre>\n<p>と合わせればうまくテストが動いた。</p>"},"__N_SSG":true}